{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","handleClick","toShow","person","name","toLowerCase","includes","map","number","onClick","id","Notification","message","className","baseUrl","personService","getAll","axios","get","then","response","data","create","personObject","post","update","put","remove","request","delete","console","log","App","useState","setPersons","setNewName","setNewNumber","setFilter","text","setMessage","useEffect","initialPersons","event","target","preventDefault","find","p","window","confirm","updatedPerson","returnedPerson","catch","error","setTimeout","updateNumber","createdPerson","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3de9a7ff.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n    return <p>filter shown with <input value={filter} onChange={handleFilterChange}/></p>\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({\n    addNewPerson,\n    newName,\n    handleNameChange,\n    newNumber,\n    handleNumberChange\n}) => {\n    return (\n        <form onSubmit={addNewPerson}>\n            <div>name: <input value={newName} onChange={handleNameChange}/></div>\n            <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ persons, filter, handleClick}) => {\n  const toShow = persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\n    return(\n    <ul>\n        {toShow.map((person) => <p key={person.name}>{person.name} {person.number} <button onClick={handleClick} value={person.id}>delete</button></p>)}\n    </ul>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n    \n    if(message === null) {\n        return null\n    }\n\n    return (\n        <div className={type}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (personObject) => {\n    const request = axios.post(baseUrl, personObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, personObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, personObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    console.log(request)\n    return request.then(response => response.data)\n}\n\nconst personService = { getAll, create, update, remove}\n\nexport default personService","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState({\n    text: null,\n    type: null\n  })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const containsName = () => {\n    const person = persons.find(p => p.name === newName)\n    return person ? true : false\n  }\n\n  const updateNumber = (person) => {\n    const updatedPerson = {...person, number: newNumber}\n    personService\n      .update(person.id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch((error) => {\n        setMessage({text:`${person.name} was already deleted from server`, type: 'error'})\n        setTimeout(() => {\n          setMessage({text: null, type: null})\n        }, 3000)\n      })\n  }\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n\n    if(containsName()) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === newName)\n        updateNumber(person)\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(personObject)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage({ text: `Added ${createdPerson.name}`, type: 'confirm' })\n          setTimeout(() => {\n            setMessage({ text: null, type: null})\n          }, 3000)\n      })\n      .catch(error => {\n        console.log(error.response.data.error)\n        setMessage({ text: error.response.data.error, type: 'error' })\n        setTimeout(() => {\n          setMessage({ text: null, type: null})\n        }, 5000)\n        \n\n      })\n    }\n  }\n\n  const deletePerson = (event) => {\n    const id = event.target.value\n    const personToDelete = persons.find(person => person.id === id)\n    if(window.confirm(`Delete ${personToDelete.name}`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setMessage({ text: `${personToDelete.name} was deleted`, type: 'confirm'})\n\n          setTimeout(() => {\n            setMessage({ text: null, type: null})\n          }, 3000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message.text} type={message.type} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\n      <h2>add a new</h2>\n      <PersonForm\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addNewPerson={addNewPerson}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons}\n        filter={filter}\n        handleClick={deletePerson}\n        />\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}